(()=>{"use strict";var e,t={5851:(e,t,r)=>{var a=r(3938),n=r(3109),o=r.n(n),s=r(8066),c=r.n(s),i=r(5567),l=r(1663),p=r(5108),u="./data/hz-geo.json",d=1280,f=800;function h(e){return g.apply(this,arguments)}function g(){return(g=(0,a.Z)(o().mark((function e(t){var r,a,n,s,c,h,g,m,y,b,k,w;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,w=function(e){var t=c(e.properties.center),r=(0,i.Z)(t,2),a=r[0],n=r[1];d3.select(this.parentNode).append("text").attr("x",a-20).attr("y",n).attr("dy","0.35em").attr("class","region-label").text(e.properties.name)},e.next=4,d3.json(u);case 4:a=e.sent,r=l.MM({geo:a},1e6),n=l.TS(r,r.objects.geo.geometries),s=l.WS(r,r.objects.geo,(function(e,t){return e!==t})),c=d3.geoMercator().fitSize([d,f],a),h=d3.geoPath().projection(c),g=t.append("g").attr("class","layer__region"),m=t.append("g").attr("class","layer__interior"),y=t.append("g").attr("class","layer__outline"),b=t.append("g").attr("class","layer__region-mask"),k=t.append("g").attr("class","layer__points"),g.selectAll("path").data(a.features).enter().append("path").attr("class","area").attr("d",h).attr("stroke","none").attr("fill","#e63").each((function(e){var t=d3.select(this);e.properties&&("snow"===e.properties.gmode?t.attr("fill","#FFFFF0"):"desert"===e.properties.gmode?t.attr("fill","#DEB887"):"forest"===e.properties.gmode&&t.attr("fill","#228B22"))})),b.selectAll("path").data(a.features).enter().append("path").attr("class","area_overlay").attr("d",h).attr("fill","skyblue").attr("opacity",.15).text((function(e){return e.properties.name})).on("click",(function(e){var t=d3.select(this),r=c(e.properties.center),a=(0,i.Z)(r,2),n=(a[0],a[1],"");switch(e.properties&&e.properties.gmode?e.properties.gmode:""){case"desert":n="去荒漠淘金";break;case"forest":n="去雨林狩猎";break;case"city":n="去城镇建房";break;case"snow":n="去雪山挖矿"}n&&v(n),p.log(e,t)})).on("mouseover",w).on("mouseout",(function(e){d3.selectAll(".region-label").remove()})),m.append("path").datum(s).attr("d",h).attr("fill","none").attr("stroke","#333").attr("stroke-dasharray","2 3"),y.append("path").datum(n).attr("d",h).attr("fill","none").attr("stroke","red"),k.style("pointer-events","none").selectAll(".center_group").data(a.features).enter().append("g").attr("class","center_group").each((function(e){d3.select(this);var t=c(e.properties.center),r=(0,i.Z)(t,2);r[0],r[1]})),e.next=26;break;case 22:throw e.prev=22,e.t0=e.catch(0),p.log(e.t0),e.t0;case 26:case"end":return e.stop()}}),e,null,[[0,22]])})))).apply(this,arguments)}function v(e){var t=document.querySelector("#toast");document.querySelector("#selectRegon").innerHTML=e,t.classList.remove("hide")}var m=r(5108);function y(){return(y=(0,a.Z)(o().mark((function e(){var t,r,a,n,s;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=d3.select("#root"),a={top:10,right:10,bottom:10,left:10},n=r.append("svg").attr("width",d).attr("height",f),s=n.append("g").attr("transform",c()(t="translate(".concat(a.top,",")).call(t,a.left,")")),e.next=6,h(s);case 6:b(),k();case 8:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function b(){document.querySelector("#hideButton").addEventListener("click",(function(e){e.preventDefault(),document.querySelector("#toast").classList.add("hide"),document.querySelector("selectRegon").innerHTML=""}))}function k(){document.querySelector(".goto-github").addEventListener("click",(function(e){e.preventDefault(),window.open("https://github.com/qicku/map-demo/tree/dev-main","game-demo-code")}))}(function(){return y.apply(this,arguments)})().catch((function(e){m.log("Fail:",e)}))}},r={};function a(e){var n=r[e];if(void 0!==n)return n.exports;var o=r[e]={exports:{}};return t[e](o,o.exports,a),o.exports}a.m=t,e=[],a.O=(t,r,n,o)=>{if(!r){var s=1/0;for(p=0;p<e.length;p++){for(var[r,n,o]=e[p],c=!0,i=0;i<r.length;i++)(!1&o||s>=o)&&Object.keys(a.O).every((e=>a.O[e](r[i])))?r.splice(i--,1):(c=!1,o<s&&(s=o));if(c){e.splice(p--,1);var l=n();void 0!==l&&(t=l)}}return t}o=o||0;for(var p=e.length;p>0&&e[p-1][2]>o;p--)e[p]=e[p-1];e[p]=[r,n,o]},a.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return a.d(t,{a:t}),t},a.d=(e,t)=>{for(var r in t)a.o(t,r)&&!a.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},a.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"==typeof window)return window}}(),a.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),(()=>{var e={826:0};a.O.j=t=>0===e[t];var t=(t,r)=>{var n,o,[s,c,i]=r,l=0;if(s.some((t=>0!==e[t]))){for(n in c)a.o(c,n)&&(a.m[n]=c[n]);if(i)var p=i(a)}for(t&&t(r);l<s.length;l++)o=s[l],a.o(e,o)&&e[o]&&e[o][0](),e[o]=0;return a.O(p)},r=self.webpackChunkmap_demo=self.webpackChunkmap_demo||[];r.forEach(t.bind(null,0)),r.push=t.bind(null,r.push.bind(r))})();var n=a.O(void 0,[282,21,595,62,126,458,877,918],(()=>a(5851)));n=a.O(n)})();